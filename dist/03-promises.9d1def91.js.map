{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACZC,KAAMC,SAASC,cAAc,SAC7BC,WAAYF,SAASC,cAAc,kBACnCE,UAAWH,SAASC,cAAc,iBAClCG,eAAgBJ,SAASC,cAAc,oBAqCxC,SAASI,EAAcC,EAAUC,GAChC,MAAMC,EAAgBC,KAAKC,SAAW,GACtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC5BC,YAAW,KACNN,GACHI,EAAQ,sBAAsBN,QAAeC,KAE9CM,EAAO,oBAAoBP,QAAeC,IAAQ,GAChDA,EAAM,G,CAIXT,EAAKC,KAAKgB,iBAAiB,UA9C3B,SAAsBC,GACrBA,EAAMC,iBACN,MAAMC,EAAmBC,OAAOrB,EAAKM,eAAegB,OACpD,IAAIlB,EAAaiB,OAAOrB,EAAKI,WAAWkB,OACpCC,EAAOF,OAAOrB,EAAKK,UAAUiB,OAGjC,MAAME,EAKP,SAA0BC,EAAUL,GACnC,MAAMM,EAAgB,GAEtB,IAAK,IAAIC,EAAI,EAAGA,GAAKP,EAAkBO,GAAK,EAC3CD,EAAcE,KAAKH,GAGpB,OAAOC,C,CAZeG,CAAiBtB,EAAea,IAevD,SAAsBU,EAAOtB,EAAUe,EAAMnB,GAC5C0B,EAAMC,SAAQC,IACbhB,YAAW,KACVgB,EAAQxB,EAAUe,GAChBU,MAAKC,GAAWpC,EAAAqC,OAAOD,QAAQA,KAC/BE,OAAMC,GAASvC,EAAAqC,OAAOG,QAAQD,KAChCd,GAAQF,OAAOrB,EAAKK,UAAUiB,OAC9Bd,GAAY,CAAC,GACXJ,EAAW,G,CArBfmC,CAAaf,EAJE,EAIuBD,EAAMnB,E","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix';\n\nconst refs = {\n\tform: document.querySelector('.form'),\n\tfirstDelay: document.querySelector('[name=\"delay\"]'),\n\tdelayStep: document.querySelector('[name=\"step\"]'),\n\tamountPromises: document.querySelector('[name=\"amount\"]'),\n}\n\nfunction onSubmitForm(event) {\n\tevent.preventDefault();\n\tconst maxAmountPromise = Number(refs.amountPromises.value);\n\tlet firstDelay = Number(refs.firstDelay.value);\n\tlet step = Number(refs.delayStep.value);\n\tlet position = 1;\n\n\tconst promisesArray = getArrayPromises(createPromise, maxAmountPromise);\n\n\tshowPromises(promisesArray, position, step, firstDelay);\n}\n\nfunction getArrayPromises(callback, maxAmountPromise) {\n\tconst arrayPromises = [];\n\n\tfor (let i = 1; i <= maxAmountPromise; i += 1) {\n\t\tarrayPromises.push(callback);\n\t}\n\n\treturn arrayPromises;\n}\n\nfunction showPromises(array, position, step, firstDelay) {\n\tarray.forEach(promise => {\n\t\tsetTimeout(() => {\n\t\t\tpromise(position, step)\n\t\t\t\t.then(success => Notify.success(success))\n\t\t\t\t.catch(error => Notify.failure(error));\n\t\t\tstep += Number(refs.delayStep.value);\n\t\t\tposition += 1;\n\t\t}, firstDelay);\n\t});\n}\n\nfunction createPromise(position, delay) {\n\tconst shouldResolve = Math.random() > 0.3;\n\treturn new Promise((resolve, reject) => {\n\t\tsetTimeout(() => {\n\t\t\tif (shouldResolve) {\n\t\t\t\tresolve(`Fullfilled promise ${position} in ${delay}`)\n\t\t\t}\n\t\t\treject(`Rejected promise ${position} in ${delay}`)\n\t\t}, delay)\n\t});\n}\n\nrefs.form.addEventListener('submit', onSubmitForm);\n"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$refs","form","document","querySelector","firstDelay","delayStep","amountPromises","$47d4ff9957288465$var$createPromise","position","delay","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","addEventListener","event","preventDefault","maxAmountPromise","Number","value","step","promisesArray","callback","arrayPromises","i","push","$47d4ff9957288465$var$getArrayPromises","array","forEach","promise","then","success","Notify","catch","error","failure","$47d4ff9957288465$var$showPromises"],"version":3,"file":"03-promises.9d1def91.js.map"}