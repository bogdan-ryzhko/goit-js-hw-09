{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAO,CACZC,KAAMC,SAASC,cAAc,SAC7BC,WAAYF,SAASC,cAAc,kBACnCE,UAAWH,SAASC,cAAc,iBAClCG,eAAgBJ,SAASC,cAAc,oBAqCxC,SAASI,EAAcC,EAAUC,GAChC,IAAMC,EAAgBC,KAAKC,SAAW,GACtC,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC5BC,YAAW,WACNN,GACHI,EAAQ,sBAAqCG,OAAfT,EAAS,QAAYS,OAANR,IAE9CM,EAAO,oBAAmCE,OAAfT,EAAS,QAAYS,OAANR,G,GACxCA,E,IAILT,EAAKC,KAAKiB,iBAAiB,UA9C3B,SAAsBC,GACrBA,EAAMC,iBACN,IAAMC,EAAmBC,OAAOtB,EAAKM,eAAeiB,OAChDnB,EAAakB,OAAOtB,EAAKI,WAAWmB,OACpCC,EAAOF,OAAOtB,EAAKK,UAAUkB,OAG3BE,EAKP,SAA0BC,EAAUL,GAGnC,IAFA,IAAMM,EAAgB,GAEbC,EAAI,EAAGA,GAAKP,EAAkBO,GAAK,EAC3CD,EAAcE,KAAKH,GAGpB,OAAOC,C,CAZeG,CAAiBvB,EAAec,IAevD,SAAsBU,EAAOvB,EAAUgB,EAAMpB,GAC5C2B,EAAMC,SAAQ,SAAAC,GACbjB,YAAW,WACViB,EAAQzB,EAAUgB,GAChBU,MAAK,SAAAC,G,OAAWrC,EAAAsC,OAAOD,QAAQA,E,IAC/BE,OAAM,SAAAC,G,OAASxC,EAAAsC,OAAOG,QAAQD,E,IAChCd,GAAQF,OAAOtB,EAAKK,UAAUkB,OAC9Bf,GAAY,C,GACVJ,E,IArBJoC,CAAaf,EAJE,EAIuBD,EAAMpB,E","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix';\n\nconst refs = {\n\tform: document.querySelector('.form'),\n\tfirstDelay: document.querySelector('[name=\"delay\"]'),\n\tdelayStep: document.querySelector('[name=\"step\"]'),\n\tamountPromises: document.querySelector('[name=\"amount\"]'),\n}\n\nfunction onSubmitForm(event) {\n\tevent.preventDefault();\n\tconst maxAmountPromise = Number(refs.amountPromises.value);\n\tlet firstDelay = Number(refs.firstDelay.value);\n\tlet step = Number(refs.delayStep.value);\n\tlet position = 1;\n\n\tconst promisesArray = getArrayPromises(createPromise, maxAmountPromise);\n\n\tshowPromises(promisesArray, position, step, firstDelay);\n}\n\nfunction getArrayPromises(callback, maxAmountPromise) {\n\tconst arrayPromises = [];\n\n\tfor (let i = 1; i <= maxAmountPromise; i += 1) {\n\t\tarrayPromises.push(callback);\n\t}\n\n\treturn arrayPromises;\n}\n\nfunction showPromises(array, position, step, firstDelay) {\n\tarray.forEach(promise => {\n\t\tsetTimeout(() => {\n\t\t\tpromise(position, step)\n\t\t\t\t.then(success => Notify.success(success))\n\t\t\t\t.catch(error => Notify.failure(error));\n\t\t\tstep += Number(refs.delayStep.value);\n\t\t\tposition += 1;\n\t\t}, firstDelay);\n\t});\n}\n\nfunction createPromise(position, delay) {\n\tconst shouldResolve = Math.random() > 0.3;\n\treturn new Promise((resolve, reject) => {\n\t\tsetTimeout(() => {\n\t\t\tif (shouldResolve) {\n\t\t\t\tresolve(`Fullfilled promise ${position} in ${delay}`)\n\t\t\t}\n\t\t\treject(`Rejected promise ${position} in ${delay}`)\n\t\t}, delay)\n\t});\n}\n\nrefs.form.addEventListener('submit', onSubmitForm);\n"],"names":["$6JpON","parcelRequire","$ce04d3a99e08e73b$var$refs","form","document","querySelector","firstDelay","delayStep","amountPromises","$ce04d3a99e08e73b$var$createPromise","position","delay","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","concat","addEventListener","event","preventDefault","maxAmountPromise","Number","value","step","promisesArray","callback","arrayPromises","i","push","$ce04d3a99e08e73b$var$getArrayPromises","array","forEach","promise","then","success","Notify","catch","error","failure","$ce04d3a99e08e73b$var$showPromises"],"version":3,"file":"03-promises.0708a547.js.map"}